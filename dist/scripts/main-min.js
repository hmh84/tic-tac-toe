var areas=document.querySelectorAll(".area"),player_ind=document.querySelector(".player-ind"),player_win=document.querySelector(".player-win"),block=!1,active_player="x";function check_for_win(){const a=document.querySelectorAll(".area[data-value]").length;if("x"==areas[0].dataset.value&&"x"==areas[1].dataset.value&&"x"==areas[2].dataset.value||"x"==areas[3].dataset.value&&"x"==areas[4].dataset.value&&"x"==areas[5].dataset.value||"x"==areas[6].dataset.value&&"x"==areas[7].dataset.value&&"x"==areas[8].dataset.value||"x"==areas[0].dataset.value&&"x"==areas[3].dataset.value&&"x"==areas[6].dataset.value||"x"==areas[1].dataset.value&&"x"==areas[4].dataset.value&&"x"==areas[7].dataset.value||"x"==areas[2].dataset.value&&"x"==areas[5].dataset.value&&"x"==areas[8].dataset.value||"x"==areas[0].dataset.value&&"x"==areas[4].dataset.value&&"x"==areas[8].dataset.value||"x"==areas[2].dataset.value&&"x"==areas[4].dataset.value&&"x"==areas[6].dataset.value){display_win("x")}else if("o"==areas[0].dataset.value&&"o"==areas[1].dataset.value&&"o"==areas[2].dataset.value||"o"==areas[3].dataset.value&&"o"==areas[4].dataset.value&&"o"==areas[5].dataset.value||"o"==areas[6].dataset.value&&"o"==areas[7].dataset.value&&"o"==areas[8].dataset.value||"o"==areas[0].dataset.value&&"o"==areas[3].dataset.value&&"o"==areas[6].dataset.value||"o"==areas[1].dataset.value&&"o"==areas[4].dataset.value&&"o"==areas[7].dataset.value||"o"==areas[2].dataset.value&&"o"==areas[5].dataset.value&&"o"==areas[8].dataset.value||"o"==areas[0].dataset.value&&"o"==areas[4].dataset.value&&"o"==areas[8].dataset.value||"o"==areas[2].dataset.value&&"o"==areas[4].dataset.value&&"o"==areas[6].dataset.value){display_win("o")}else if(9==a){display_win("tie")}}function display_win(a){player_win.innerHTML="tie"==a?"tie!":a+"'s won!",block=!0,win_effect()}function flash_v1(){document.getElementsByTagName("style")[0].innerHTML=".area {border-color: white !important;}"}function flash_v2(){document.getElementsByTagName("style")[0].innerHTML=".area {border-color: var(--dark-green) !important;}"}function win_effect(){call_speaker("win.mp3");flash_v1(),setTimeout(function(){flash_v2(),setTimeout(function(){flash_v1(),setTimeout(function(){flash_v2(),setTimeout(function(){flash_v1(),setTimeout(function(){flash_v2()},175)},175)},175)},175)},175)}player_ind.innerHTML=active_player,areas.forEach(a=>{a.addEventListener("click",()=>{!1===block&&(a.dataset.value||(a.dataset.value=active_player,a.innerHTML=active_player,"x"==active_player?(call_speaker("x.mp3"),active_player="o"):"o"==active_player&&(call_speaker("o.mp3"),active_player="x"),player_ind.innerHTML=active_player,check_for_win()))})});const reset=document.querySelector("button.reset");reset.addEventListener("click",()=>{areas.forEach(a=>{a.dataset.value&&(a.removeAttribute("data-value"),a.innerHTML="",player_win.innerHTML="",active_player="x",player_ind.innerHTML=active_player,block=!1)})});const speaker=document.querySelector("#speaker");function call_speaker(a){speaker.src="dist/sounds/"+a,speaker.play()}